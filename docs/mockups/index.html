<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedigree Tracker</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Treant.js Libraries -->
    <script src="libs/treant-js/jquery.min.js"></script>
    <script src="libs/treant-js/raphael.js"></script>
    <script src="libs/treant-js/treant.js"></script>
    <link rel="stylesheet" href="libs/treant-js/Treant.css">
    
    <!-- Custom styles -->
    <link rel="stylesheet" href="css/pedigree-treant.css">
    <link rel="stylesheet" href="css/tree-controls.css">
    <link rel="stylesheet" href="css/export-controls.css">
    
    <!-- Export Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <!-- Application scripts -->
    <script src="js/main.js" defer></script>
    <script src="js/pedigree-treant.js" defer></script>
    <script src="js/pedigree-export.js" defer></script>
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation Bar with Animal Type Tabs -->
        <header class="app-header">
            <nav class="animal-tabs">
                <button class="tab-btn active" data-type="horses">Horses</button>
                <button class="tab-btn" data-type="cattle">Cattle</button>
                <button class="tab-btn" data-type="sheep">Sheep</button>
                <button class="tab-btn" data-type="rabbits">Rabbits</button>
                <button class="tab-btn tab-add" title="Add Animal Type">+</button>
            </nav>
            <button id="add-animal-btn" class="primary-btn">Add Animal</button>
        </header>

        <!-- Main Content Area -->
        <main class="app-main">
            <!-- Animal List Sidebar -->
            <aside class="animal-sidebar">
                <div class="animal-list">
                    <div class="animal-item" data-id="1">
                        <span class="gender female">‚ôÄ</span>
                        <span class="animal-name">Choco Chip</span>
                    </div>
                    <div class="animal-item" data-id="2">
                        <span class="gender male">‚ôÇ</span>
                        <span class="animal-name">Trevor Crop</span>
                    </div>
                    <div class="animal-item" data-id="3">
                        <span class="gender female">‚ôÄ</span>
                        <span class="animal-name">Sugar Cube</span>
                    </div>
                    <div class="animal-item" data-id="4">
                        <span class="gender male">‚ôÇ</span>
                        <span class="animal-name">Dark Thunder</span>
                    </div>
                    <div class="animal-item" data-id="5">
                        <span class="gender female">‚ôÄ</span>
                        <span class="animal-name">Cocoa Bean</span>
                    </div>
                    <div class="animal-item" data-id="6">
                        <span class="gender female">‚ôÄ</span>
                        <span class="animal-name">Mocha Swirl</span>
                    </div>
                </div>
                <button id="sidebar-add-btn" class="secondary-btn">+ Add Animal</button>
                <div class="settings-bar">
                    <button class="settings-btn" title="Settings">‚öôÔ∏è</button>
                    <button class="settings-btn" title="Export/Import">üìÑ</button>
                    <button class="settings-btn" title="Help">?</button>
                    <button class="settings-btn" title="More Options">...</button>
                </div>
            </aside>

            <!-- Main Display Area -->
            <section class="main-display">
                <!-- Pedigree View (Default) -->
                <div id="pedigree-view" class="view active">
                    <h2>Pedigree: Choco Chip</h2>
                    <div id="pedigree-container" class="pedigree-container">
                        <!-- Treant.js will render the pedigree tree here -->
                        <div id="pedigree-tree"></div>
                        
                        <!-- Tree controls -->
                        <div class="tree-controls">
                            <button id="zoom-in" class="control-btn" title="Zoom In">+</button>
                            <button id="zoom-out" class="control-btn" title="Zoom Out">-</button>
                            <button id="reset-view" class="control-btn" title="Reset View">‚Ü∫</button>
                        </div>
                    </div>
                </div>

                <!-- Animal Details View (Hidden by default) -->
                <div id="details-view" class="view">
                    <div class="view-header">
                        <h2>Animal Details: Choco Chip</h2>
                        <div class="view-actions">
                            <button id="save-details-btn" class="primary-btn">Save</button>
                            <button id="show-pedigree-btn" class="secondary-btn">Pedigree</button>
                        </div>
                    </div>
                    <div class="details-form">
                        <div class="form-section">
                            <h3>Basic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="animal-id">ID/Tag:</label>
                                    <input type="text" id="animal-id" value="H001">
                                </div>
                                <div class="form-group">
                                    <label for="animal-type">Type:</label>
                                    <select id="animal-type">
                                        <option selected>Horse</option>
                                        <option>Cattle</option>
                                        <option>Sheep</option>
                                        <option>Rabbit</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="animal-name">Name:</label>
                                    <input type="text" id="animal-name" value="Choco Chip">
                                </div>
                                <div class="form-group">
                                    <label for="animal-gender">Gender:</label>
                                    <select id="animal-gender">
                                        <option selected>‚ôÄ Female</option>
                                        <option>‚ôÇ Male</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="animal-dob">Date of Birth:</label>
                                    <input type="date" id="animal-dob" value="2022-03-15">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Lineage</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="animal-mother">Mother:</label>
                                    <select id="animal-mother">
                                        <option selected>Sugar Cube (H023)</option>
                                        <option>Black Beauty (H015)</option>
                                        <option>Caramel Delight (H010)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="animal-father">Father:</label>
                                    <select id="animal-father">
                                        <option selected>Dark Thunder (H017)</option>
                                        <option>Storm Cloud (H012)</option>
                                        <option>Coffee Bean (H008)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Notes</h3>
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <textarea id="animal-notes" rows="5">Brown mare with white star marking on forehead.
Good temperament, trained for basic riding.
Purchased from Highland Farm in March 2023.</textarea>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Offspring</h3>
                            <ul class="offspring-list">
                                <li>Cocoa Bean (H045) - born 04/12/2024</li>
                                <li>Mocha Swirl (H052) - born 05/20/2025</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Add Animal View (Hidden by default) -->
                <div id="add-animal-view" class="view">
                    <div class="view-header">
                        <h2>New Animal</h2>
                        <div class="view-actions">
                            <button id="save-new-btn" class="primary-btn">Save</button>
                            <button id="cancel-new-btn" class="secondary-btn">Cancel</button>
                        </div>
                    </div>
                    <div class="details-form">
                        <div class="form-section">
                            <h3>Basic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-animal-id">ID/Tag:*</label>
                                    <input type="text" id="new-animal-id" placeholder="Enter animal ID or tag">
                                </div>
                                <div class="form-group">
                                    <label for="new-animal-type">Type:</label>
                                    <select id="new-animal-type">
                                        <option selected>Horse</option>
                                        <option>Cattle</option>
                                        <option>Sheep</option>
                                        <option>Rabbit</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-animal-name">Name:</label>
                                    <input type="text" id="new-animal-name" placeholder="Enter animal name">
                                </div>
                                <div class="form-group">
                                    <label for="new-animal-gender">Gender:</label>
                                    <div class="radio-group">
                                        <label>
                                            <input type="radio" name="gender" value="female" checked>
                                            <span>‚ôÄ Female</span>
                                        </label>
                                        <label>
                                            <input type="radio" name="gender" value="male">
                                            <span>‚ôÇ Male</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-animal-dob">Date of Birth:</label>
                                    <input type="date" id="new-animal-dob">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Lineage</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-animal-mother">Mother:</label>
                                    <select id="new-animal-mother">
                                        <option value="">-- Select mother --</option>
                                        <option>Sugar Cube (H023)</option>
                                        <option>Choco Chip (H001)</option>
                                        <option>Black Beauty (H015)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-animal-father">Father:</label>
                                    <select id="new-animal-father">
                                        <option value="">-- Select father --</option>
                                        <option>Dark Thunder (H017)</option>
                                        <option>Trevor Crop (H002)</option>
                                        <option>Storm Cloud (H012)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Notes</h3>
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <textarea id="new-animal-notes" rows="5" placeholder="Enter any notes about this animal"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Backdrop -->
    <div id="modal-backdrop" class="hidden"></div>
</body>
</html>
